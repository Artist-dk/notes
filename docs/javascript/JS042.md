# ğŸš€ **JavaScript Sets & Maps - A Deep Dive**  

JavaScript provides two powerful **data structures** for handling **collections of unique values** and **key-value pairs**:  
- **`Set` & `WeakSet`** â†’ Store unique values  
- **`Map` & `WeakMap`** â†’ Store key-value pairs  

These are more efficient and flexible than traditional **arrays** and **objects** in many cases.

---

## ğŸ”¹ **1ï¸âƒ£ JavaScript `Set`**
A `Set` is a collection of **unique** values. It automatically removes duplicates.

### âœ… **Creating a `Set`**
```js
let mySet = new Set();  // âœ… Empty Set
console.log(mySet); // Set(0) {}
```

```js
let numbers = new Set([1, 2, 3, 4, 4, 5, 5]);
console.log(numbers); // âœ… Set(5) {1, 2, 3, 4, 5} (duplicates removed)
```

---

### âœ… **Adding & Removing Elements in a `Set`**
| Method | Description |
|--------|------------|
| `add(value)` | Adds a new value to the `Set` |
| `delete(value)` | Removes a value from the `Set` |
| `has(value)` | Checks if a value exists in the `Set` |
| `size` | Returns the number of elements in the `Set` |
| `clear()` | Removes all values from the `Set` |

```js
let mySet = new Set();
mySet.add(10);
mySet.add(20);
mySet.add(30);
mySet.add(10); // Duplicate - ignored

console.log(mySet); // âœ… Set(3) {10, 20, 30}

console.log(mySet.has(20)); // âœ… true (20 exists)
mySet.delete(10);
console.log(mySet); // âœ… Set(2) {20, 30}

console.log(mySet.size); // âœ… 2 (number of elements)
mySet.clear();
console.log(mySet); // âœ… Set(0) {}
```

---

### âœ… **Iterating Over a `Set`**
You can iterate using:
1ï¸âƒ£ **forEach()**  
2ï¸âƒ£ **for...of**  

```js
let mySet = new Set(["Apple", "Banana", "Cherry"]);

mySet.forEach(value => console.log(value)); 
// âœ… Apple
// âœ… Banana
// âœ… Cherry

for (let fruit of mySet) {
    console.log(fruit);
}
```

âœ” **Use Case:** Removing duplicates from an array
```js
let numbers = [1, 2, 2, 3, 4, 4, 5];
let uniqueNumbers = [...new Set(numbers)];
console.log(uniqueNumbers); // âœ… [1, 2, 3, 4, 5]
```

---

## ğŸ”¹ **2ï¸âƒ£ JavaScript `WeakSet`**
A `WeakSet` is similar to a `Set`, but it only stores **objects** and does **not prevent garbage collection**.

### âœ… **Key Features**
- Only **objects** can be stored.
- Values are **weakly held** (they can be garbage collected).
- No `.size`, `.forEach()`, or iteration methods.

```js
let obj1 = { name: "Alice" };
let obj2 = { name: "Bob" };

let weakSet = new WeakSet();
weakSet.add(obj1);
weakSet.add(obj2);

console.log(weakSet.has(obj1)); // âœ… true

weakSet.delete(obj2);
console.log(weakSet.has(obj2)); // âœ… false (removed)
```

âœ” **Use Case:** Tracking DOM elements  
```js
let visitedNodes = new WeakSet();
let node1 = document.createElement("div");
visitedNodes.add(node1);
console.log(visitedNodes.has(node1)); // âœ… true
```

---

## ğŸ”¹ **3ï¸âƒ£ JavaScript `Map`**
A `Map` is a collection of **key-value pairs** where **keys can be any type** (including objects and functions).

### âœ… **Creating a `Map`**
```js
let myMap = new Map();
myMap.set("name", "John");
myMap.set(100, "Number Key");
myMap.set(true, "Boolean Key");

console.log(myMap);
// âœ… Map(3) {"name" => "John", 100 => "Number Key", true => "Boolean Key"}
```

---

### âœ… **Working with `Map`**
| Method | Description |
|--------|------------|
| `set(key, value)` | Adds a key-value pair |
| `get(key)` | Returns the value for the key |
| `delete(key)` | Removes a key-value pair |
| `has(key)` | Checks if a key exists |
| `size` | Returns the number of key-value pairs |
| `clear()` | Removes all key-value pairs |

```js
let person = new Map();
person.set("name", "Alice");
person.set("age", 30);
person.set("city", "New York");

console.log(person.get("name")); // âœ… Alice
console.log(person.has("age")); // âœ… true
person.delete("city");
console.log(person.size); // âœ… 2
```

---

### âœ… **Iterating Over a `Map`**
```js
let myMap = new Map([
  ["name", "John"],
  ["age", 25],
  ["city", "Los Angeles"]
]);

// Iterate using forEach()
myMap.forEach((value, key) => console.log(`${key}: ${value}`));

// Iterate using for...of
for (let [key, value] of myMap) {
    console.log(`${key}: ${value}`);
}
```

âœ” **Use Case:** Storing user preferences  
```js
let userPrefs = new Map();
userPrefs.set("theme", "dark");
userPrefs.set("fontSize", "16px");
console.log(userPrefs.get("theme")); // âœ… dark
```

---

## ğŸ”¹ **4ï¸âƒ£ JavaScript `WeakMap`**
A `WeakMap` is like a `Map`, but keys must be **objects** and it does **not prevent garbage collection**.

### âœ… **Key Features**
- Only **objects** can be keys.
- Keys are **weakly held** (they can be garbage collected).
- No `.size`, `.forEach()`, or iteration methods.

```js
let weakMap = new WeakMap();
let obj = { id: 1 };

weakMap.set(obj, "User Data");
console.log(weakMap.get(obj)); // âœ… "User Data"

obj = null; // Object is garbage collected
```

âœ” **Use Case:** Caching data  
```js
let cache = new WeakMap();
function storeData(obj, value) {
    cache.set(obj, value);
}
```

---

## ğŸ”¥ **Final Summary: When to Use What?**
| Feature | `Set` | `WeakSet` | `Map` | `WeakMap` |
|---------|-------|----------|-------|-----------|
| Stores unique values? | âœ… Yes | âœ… Yes | âŒ No | âŒ No |
| Accepts all data types? | âœ… Yes | âŒ Objects only | âœ… Yes | âŒ Objects only |
| Prevents duplicates? | âœ… Yes | âœ… Yes | âŒ No | âŒ No |
| Supports iteration? | âœ… Yes | âŒ No | âœ… Yes | âŒ No |
| Garbage collection safe? | âŒ No | âœ… Yes | âŒ No | âœ… Yes |

---

# ğŸ¯ **Key Takeaways**
âœ” Use `Set` to **store unique values**.  
âœ” Use `WeakSet` to **store objects without memory leaks**.  
âœ” Use `Map` to **store key-value pairs with any data type as keys**.  
âœ” Use `WeakMap` to **store object keys without preventing garbage collection**.  

ğŸš€ **Practice Challenge**
1ï¸âƒ£ Create a `Set` with numbers and remove duplicates.  
2ï¸âƒ£ Use `Map` to store student grades (`"Alice" -> 90`, `"Bob" -> 85`).  
3ï¸âƒ£ Try using `WeakMap` for storing session data.  

---

ğŸ”¥ **Let me know if you need more examples or explanations!** ğŸš€