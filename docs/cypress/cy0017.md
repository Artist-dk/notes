# **ðŸ”¥ Cypress Hover & Tooltip Testing ðŸš€**  

Hover interactions and tooltips are common in web applications, providing additional information when a user **hovers** over an element. Cypress does not have a built-in `.hover()` command, but we can use `.trigger('mouseover')` to simulate mouse hover actions.

---

## **ðŸ“Œ 1ï¸âƒ£ Understanding Hover & Tooltips in Web Applications**
A **tooltip** is a small pop-up that appears when a user hovers over an element.  
Tooltips are typically implemented using:  
âœ” **CSS-based tooltips** (`:hover` pseudo-class).  
âœ” **JavaScript-triggered tooltips** (`mouseover`, `mouseleave` events).  
âœ” **UI libraries** (Bootstrap, Material-UI, jQuery, etc.).  

### **Common Hover Interactions**
âœ… Showing a **tooltip** when hovering over a button or link.  
âœ… Expanding a **dropdown menu** on hover.  
âœ… Displaying **hidden elements** using hover.  

---

## **ðŸ“Œ 2ï¸âƒ£ Simulating Hover with `.trigger('mouseover')`**
Cypress allows us to simulate hover actions using `.trigger('mouseover')`.

### **âœ… Example: Hovering Over an Element**
```javascript
cy.get('.tooltip-button') // Select the button or link
  .trigger('mouseover') // Simulate hover action
  .wait(500); // Wait for tooltip to appear
```
âœ” **Best Practice**: Add a small `.wait(500)` if the tooltip has an animation delay.

---

## **ðŸ“Œ 3ï¸âƒ£ Verifying Tooltip Visibility**
After hovering, we need to verify that the tooltip is **visible**.

### **âœ… Example: Checking Tooltip is Visible**
```javascript
cy.get('.tooltip-button').trigger('mouseover');
cy.get('.tooltip')
  .should('be.visible') // Assert tooltip is visible
  .and('contain', 'Expected Tooltip Text'); // Assert tooltip text
```
âœ” **Why Use `.should('be.visible')`?**  
- Ensures Cypress **waits until the tooltip appears** before proceeding.  
- Prevents **false negatives** if the tooltip is delayed.

---

## **ðŸ“Œ 4ï¸âƒ£ Simulating Mouse Hover & Move**
Sometimes, hovering over an element **reveals a hidden element**. Cypress can simulate this by **moving the mouse over the element**.

### **âœ… Example: Hovering and Clicking a Revealed Element**
```javascript
cy.get('.menu-item').trigger('mouseover'); // Hover over menu
cy.get('.submenu-item').should('be.visible').click(); // Click revealed item
```
âœ” **Use Case**: Testing dropdown menus or navigation menus that appear on hover.

---

## **ðŸ“Œ 5ï¸âƒ£ Handling Hover in Different UI Libraries**
Tooltips behave differently based on **which library is used**.

### **ðŸ”¹ Bootstrap Tooltips**
Bootstrap uses `tooltip` class and **requires `mouseover` and `mouseout`**.
```javascript
cy.get('.tooltip-button')
  .trigger('mouseover')
  .get('.tooltip')
  .should('be.visible');
```

### **ðŸ”¹ Material-UI Tooltips**
Material-UI tooltips disappear on `mouseleave`, so we ensure Cypress keeps focus.
```javascript
cy.get('.MuiTooltip-root').trigger('mouseover');
cy.get('.MuiTooltip-popper').should('be.visible');
```

---

## **ðŸ“Œ 6ï¸âƒ£ Simulating Hover with `force: true`**
Sometimes, tooltips are hidden inside parent elements with `overflow: hidden`.  
In such cases, Cypress may not detect them properly.

### **âœ… Example: Forcing Hover on Hidden Elements**
```javascript
cy.get('.tooltip-button')
  .trigger('mouseover', { force: true }) // Force hover
  .get('.tooltip')
  .should('be.visible');
```
âœ” **Use Case**: When tooltips are hidden inside containers or modals.

---

## **ðŸ“Œ 7ï¸âƒ£ Asserting Tooltip Position**
For advanced UI testing, we can **verify the tooltip appears in the correct location**.

### **âœ… Example: Checking Tooltip Position**
```javascript
cy.get('.tooltip-button').trigger('mouseover');

cy.get('.tooltip').then(($tooltip) => {
  const rect = $tooltip[0].getBoundingClientRect();
  expect(rect.top).to.be.greaterThan(100); // Ensure tooltip appears below button
  expect(rect.left).to.be.greaterThan(50);
});
```
âœ” **Best Practice**: Use `getBoundingClientRect()` to check exact positioning.

---

## **ðŸ“Œ Summary: Hover & Tooltip Testing in Cypress**
| Cypress Command | Description | Example |
|----------------|-------------|---------|
| `.trigger('mouseover')` | Simulates mouse hover | `cy.get('.tooltip-button').trigger('mouseover')` |
| `.should('be.visible')` | Checks tooltip visibility | `cy.get('.tooltip').should('be.visible')` |
| `.trigger('mouseout')` | Simulates moving the mouse away | `cy.get('.tooltip-button').trigger('mouseout')` |
| `.trigger('mouseover', { force: true })` | Forces hover on hidden elements | `cy.get('.tooltip-button').trigger('mouseover', { force: true })` |
| `.getBoundingClientRect()` | Verifies tooltip position | `cy.get('.tooltip').then(($el) => { /* check position */ })` |

---

# **ðŸš€ Key Takeaways**
âœ” Cypress **does not have `.hover()`**, but `.trigger('mouseover')` works.  
âœ” Always **assert tooltip visibility** using `.should('be.visible')`.  
âœ” For hidden tooltips, use `{ force: true }` in `.trigger()`.  
âœ” Use `getBoundingClientRect()` to **verify tooltip position**.  

Would you like examples for **hover-based dropdown menus** or **tooltip animations**? Let me know! ðŸ˜ŠðŸ”¥