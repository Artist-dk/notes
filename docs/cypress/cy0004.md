# **ğŸ”¥ Cypress Folder Structure: Understanding the `cypress/` Directory ğŸš€**  

When you install Cypress and open it for the first time using:  
```sh
npx cypress open
```
Cypress automatically creates a folder structure in your project directory:  

```
/cypress
  â”œâ”€â”€ /fixtures
  â”œâ”€â”€ /integration (Deprecated) â†’ Use `/e2e`
  â”œâ”€â”€ /e2e
  â”œâ”€â”€ /support
  â”œâ”€â”€ /plugins (Deprecated) â†’ Use `/support/e2e.js`
  â”œâ”€â”€ /downloads
  â”œâ”€â”€ /screenshots
  â”œâ”€â”€ /videos
  â”œâ”€â”€ /reports (Manually Configured)
/cypress.config.js or cypress.config.ts
```
Each of these folders serves a specific purpose, helping you organize your Cypress test automation efficiently.

---

## **ğŸ“Œ Cypress Folder Breakdown & Usage**  

### **1ï¸âƒ£ `/fixtures` - Test Data & Mocking API Responses**  
The `fixtures/` folder is used to store **static test data** in JSON format, which can be used for:  
âœ… **Mock API responses**  
âœ… **Predefined test inputs**  
âœ… **Reusable data across tests**  

ğŸ“Œ **Example: Using Fixtures in Tests**  

#### **Create a JSON fixture (`cypress/fixtures/user.json`)**
```json
{
  "username": "testuser",
  "password": "securepassword",
  "email": "testuser@example.com"
}
```

#### **Using the fixture in a test (`cypress/e2e/login.cy.js`)**
```js
describe('Login Test with Fixture Data', () => {
  it('should login using fixture data', () => {
    cy.visit('/login');

    cy.fixture('user').then((user) => {
      cy.get('#username').type(user.username);
      cy.get('#password').type(user.password);
      cy.get('button[type="submit"]').click();
    });

    cy.contains('Welcome, testuser').should('be.visible');
  });
});
```
ğŸ“Œ **Why use fixtures?**  
- Keeps test data separate from test logic.  
- Allows easy modifications without changing test scripts.  

---

### **2ï¸âƒ£ `/e2e` - Cypress Test Files (End-to-End Tests)**  
- Previously, Cypress used `/integration`, but it's now **deprecated**.  
- Cypress stores all **E2E test scripts** in this folder (`.cy.js`, `.cy.ts`).  
- Each `.cy.js` file represents a test suite.

ğŸ“Œ **Example test structure:**
```
/e2e
  â”œâ”€â”€ login.cy.js
  â”œâ”€â”€ signup.cy.js
  â”œâ”€â”€ dashboard.cy.js
```

ğŸ“Œ **Example: A simple login test (`cypress/e2e/login.cy.js`)**  
```js
describe('Login Test', () => {
  it('should log in with valid credentials', () => {
    cy.visit('/login');
    cy.get('#username').type('testuser');
    cy.get('#password').type('securepassword');
    cy.get('button[type="submit"]').click();
    cy.contains('Welcome, testuser').should('be.visible');
  });
});
```

ğŸ’¡ **Best Practice:** Keep tests **modular** (one feature per test file) for easy debugging.

---

### **3ï¸âƒ£ `/support` - Custom Commands & Global Test Configurations**  
The `/support/` folder contains reusable logic that can be shared across multiple tests.

#### ğŸ“Œ **Key files inside `/support/`**  
| File | Purpose |
|------|---------|
| `commands.js` | Define **custom Cypress commands** (`cy.login()`, `cy.logout()`) |
| `e2e.js` | Cypress setup code (beforeEach hooks, global settings) |

#### **Example: Creating a Custom Command (`cypress/support/commands.js`)**
```js
Cypress.Commands.add('login', (username, password) => {
  cy.visit('/login');
  cy.get('#username').type(username);
  cy.get('#password').type(password);
  cy.get('button[type="submit"]').click();
});
```

#### **Using the custom command in a test (`cypress/e2e/login.cy.js`)**
```js
describe('Login Test with Custom Command', () => {
  it('should log in successfully', () => {
    cy.login('testuser', 'securepassword');
    cy.contains('Welcome, testuser').should('be.visible');
  });
});
```
ğŸ’¡ **Why use `/support`?**  
- Reduces code duplication.  
- Centralized test setup improves maintainability.  

---

### **4ï¸âƒ£ `/downloads` - Stores Downloaded Files in Tests**  
If your tests involve downloading files (e.g., PDFs, CSVs), Cypress automatically saves them here.  

#### ğŸ“Œ **Example: Verify a file download**  
```js
cy.get('a.download-btn').click();
cy.readFile('cypress/downloads/report.pdf').should('exist');
```

---

### **5ï¸âƒ£ `/screenshots` - Captures Screenshots of Test Failures**  
- When a test fails, Cypress takes a **screenshot automatically** and saves it here.  
- You can also capture screenshots manually using:  
  ```js
  cy.screenshot('LoginPage');
  ```

ğŸ“Œ **Example of Screenshot Output:**  
```
/screenshots
  â”œâ”€â”€ login.cy.js
      â”œâ”€â”€ should log in with valid credentials (failed).png
```

---

### **6ï¸âƒ£ `/videos` - Records Test Execution Videos**  
Cypress **records videos** of tests running when executed in `headless mode`:  
```sh
npx cypress run
```
- Videos are stored in `/videos/` by default.  
- You can **disable video recording** in `cypress.config.js`:
  ```js
  module.exports = {
    video: false
  };
  ```

ğŸ“Œ **Example of Video Output:**  
```
/videos
  â”œâ”€â”€ login.cy.js.mp4
```

---

### **7ï¸âƒ£ `/reports` - Test Reports (Manually Configured)**  
- Cypress **does not generate reports by default**.  
- You can generate **Mochawesome** reports by installing it:  
  ```sh
  npm install --save-dev mochawesome mochawesome-merge cypress-mochawesome-reporter
  ```

ğŸ“Œ **Example `cypress.config.js` configuration for reports:**  
```js
module.exports = {
  reporter: 'cypress-mochawesome-reporter',
  reporterOptions: {
    reportDir: 'cypress/reports',
    overwrite: false,
    html: true,
    json: true
  }
};
```
ğŸ“Œ **Run tests with reports enabled:**  
```sh
npx cypress run --reporter cypress-mochawesome-reporter
```

ğŸ“Œ **Generated reports:**  
```
/reports
  â”œâ”€â”€ mochawesome.html
  â”œâ”€â”€ mochawesome.json
```

---

## **ğŸ“Œ Cypress Configuration Files**
| File | Purpose |
|------|---------|
| `cypress.config.js` / `cypress.config.ts` | Main Cypress configuration file |
| `.cypress.env.json` | Stores environment variables like API keys |
| `.gitignore` | Ignore Cypress reports, screenshots, and videos in Git |

ğŸ“Œ **Example `cypress.config.js`:**  
```js
module.exports = {
  baseUrl: 'https://example.com',
  viewportWidth: 1280,
  viewportHeight: 720,
  retries: {
    runMode: 2,
    openMode: 1
  },
  env: {
    apiUrl: 'https://api.example.com'
  }
};
```

---

# **ğŸ“Œ Best Practices for Organizing Cypress Tests**
âœ” **Use fixtures** for test data instead of hardcoding it in test cases.  
âœ” **Modularize tests** into separate files based on features (`login.cy.js`, `signup.cy.js`).  
âœ” **Use custom commands** to simplify repetitive tasks (`cy.login()`).  
âœ” **Enable video recording** in CI/CD for debugging failed tests.  
âœ” **Use test reports** (`mochawesome`) for better insights.  

---

## **ğŸš€ Whatâ€™s Next?**
Now that you understand the Cypress folder structure, do you want to learn:  
âœ… **How to write advanced test cases?**  
âœ… **Cypress best practices for CI/CD?**  

Let me know! ğŸ˜ŠğŸ”¥